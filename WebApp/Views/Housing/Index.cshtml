@model WebApp.ViewModels.HousingIndexModel

@{
    ViewData["Title"] = "Index";
}

<h2>Список объектов</h2>

<p>
    <a asp-action="Create" class="ui button blue">Добавить новый объект</a>
</p>


<form class="ui form segment" asp-action="Filter">
    <div class="three fields">
        @Html.EditorFor(x => x.HousingTypeList)
        @Html.EditorFor(x => x.City)
        @Html.EditorFor(x => x.District)
    </div>

    <div class="three fields">
        @Html.EditorFor(x => x.MinCost, "int")
        @Html.EditorFor(x => x.MaxCost, "int")
        @Html.EditorFor(x => x.SelectedObjectId, "int")
    </div>
    <input type="submit" value="Применить фильтр" class="ui primary button"/>
</form>

<h4 class="ui horizontal divider header">
  <i class="tag icon"></i>
  Всего объектов в базе: @ViewBag.TotalItems Найдено по фильтру: @ViewBag.FilteredItemsCount
</h4>

@foreach (var item in Model.Items)
{
    <div class="ui stackable two column grid segment">
        <div class="thirteen wide column">
            <div class="ui grid">
                <div class="four wide column">
                    <h3><i class="home icon"></i>@Html.DisplayFor(x => item.HouseType)</h3>
                </div>
                <div class="four wide column">
                    <h3><i class="ruble icon"></i>@Html.DisplayFor(x => item.Cost)</h3>
                </div>
                <div class="four wide column">
                    <i class="marker icon"></i> @Html.DisplayFor(x => item.FullAddress)
                </div>
                <div class="four wide column">
                    @Html.DisplayFor(x => item.Phone1)&nbsp;&nbsp;&nbsp;@Html.DisplayFor(x => item.Phone2)&nbsp;&nbsp;&nbsp;@Html.DisplayFor(x => item.Phone3)
                </div>
                <div class="ten wide column">
                    <i class="write icon"></i> <span>@Html.DisplayFor(x => item.Comment)</span>
                </div>
            </div>
        </div>
        <div class="two wide column right aligned">
            <div class="row column two">
                <a asp-action="Edit" asp-route-id="1" class="ui button blue tiny">Редактировать</a>
                <a onclick='@($"$('#item{item.EditId}').modal('show');return false;")' class="ui button tiny">Подробности</a>
                <a asp-action="Delete" asp-route-id="1" class="ui button red tiny" onclick="return confirm('Вы уверены что хотите удалить запись?');">Удалить</a>
            </div>
        </div>
    </div>
    <div class="ui modal" id='@($"item{item.EditId}")'>
          <i class="close icon"></i>
          <div class="header">
            @Html.DisplayFor(x => item.HouseType)
          </div>
          <div class="content">
            <div class="description">
             @Html.DisplayFor(x => item.Comment)
            </div>
          </div>
          <div class="actions">
            <div class="ui black deny button">
              Закрыть
            </div>
            <div class="ui positive right labeled icon button">
              Yep, that's me
              <i class="checkmark icon"></i>
            </div>
          </div>
        </div>
}

<div class="ui circular labels">
    <a class="ui label">Первая</a>
    <a class="ui blue label">1</a>
    <a class="ui label">2</a>
    <a class="ui label">3</a>
    <a class="ui label">Последняя</a>
</div>

